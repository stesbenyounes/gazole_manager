{% extends 'base.html' %}
{% block content %}

<h3>{{ 'Modifier chauffeur' if driver else 'Nouveau chauffeur' }}</h3>

<form method="post">
  <div class="mb-3">
    <label class="form-label">Nom</label>
    <input class="form-control" name="name" required
           value="{{ driver.name if driver else '' }}">
  </div>

  <div class="d-flex gap-2">
    <button class="btn btn-primary" type="submit">
      {{ 'Enregistrer' if driver else 'Ajouter' }}
    </button>
    <a class="btn btn-secondary" href="{{ url_for('drivers_list') }}">Annuler</a>

    {% if driver %}
      <form method="post" action="{{ url_for('driver_delete', did=driver.id) }}" class="d-inline"
            onsubmit="return confirm('Supprimer ce chauffeur ?');">
        <button class="btn btn-outline-danger" type="submit">Supprimer</button>
      </form>
    {% endif %}
  </div>
</form>

{% endblock %}
